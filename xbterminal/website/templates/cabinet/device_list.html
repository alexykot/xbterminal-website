{% extends "cabinet/base.html" %}

{% block cabinet_content %}
<div class="create-device-button">
    <a class="btn btn-default" href="{% url 'website:create_device' %}?device_type=hardware">Create terminal</a>
    <a class="btn btn-default" href="{% url 'website:create_device' %}?device_type=mobile">Create mobile app</a>
    <a class="btn btn-default" href="{% url 'website:create_device' %}?device_type=web">Create web app</a>
</div>
<table class="table table-striped table-bordered table-responsive">
    <tr>
        <th>Name</th>
        <th>Receiving address</th>
        <th>Payment processor</th>
        <th>Actions</th>
    </tr>
    {% for device in devices %}
    <tr>
        <td>
            <a href="{% url 'website:device' device.key %}">{{ device.name }}</a>
            {% if device.is_online %}<div class="device-online" title="device online">â€¢</div>{% endif %}
        </td>
        <td>
            {% if device.bitcoin_address %}
                {{ device.bitcoin_address|slice:":6" }}...{{ device.bitcoin_address|slice:"-6:" }}
            {% else %}
                --
            {% endif %}
        </td>
        <td>{{ device.payment_processor_info|default:"--" }}</td>
        <td>
            <div><a href="{% url 'website:reconciliation' device.key %}">reconciliation</a></div>
            <div><a href="{% url 'website:payment' device.key %}" target="_blank">online POS</a></div>
        </td>
    </tr>
    {% endfor %}
</table>
{% endblock %}
